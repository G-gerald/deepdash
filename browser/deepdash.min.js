var deepdash=function(){"use strict";function e(e){return function(t,n,r){if(!e[t])if(e.mixin){var a={};a[t]=n,e.mixin(a,{chain:r})}else e[t]=n;return e}}function t(e){return function(e){for(var t=[],n=0;n<e.length;n++)n in e||t.push(n);for(var r=t.length;r--;)e.splice(t[r],1);return e}}var n=/\D/,r=/^[a-zA-Z_$]+([\w_$]*)$/,a=/"/g;function i(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.reduce((function(e,t){return e?!t||t.startsWith("[")?""+e+t:e+"."+t:t}),"")}function o(e){return function(t){for(var o=[],c=arguments.length-1;c-- >0;)o[c]=arguments[c+1];return o=o.filter((function(e){return void 0!==e})),e.isString(t)?i.apply(void 0,o.concat([t])):Array.isArray(t)?(o=i.apply(void 0,o),t.reduce((function(e,t){var i=typeof t;return"number"===i?t<0||t%1!=0?e+'["'+t+'"]':e+"["+t+"]":"string"!==i?e+'["'+t+'"]':t?n.test(t)?r.test(t)?e?e+"."+t:""+e+t:e+'["'+t.replace(a,'\\"')+'"]':e+"["+t+"]":e+'[""]'}),o)):void 0}}o.notChainable=!0;var c=function(e,t,n){this.obj=e,this._options=t,this.break=n},l={path:{configurable:!0},parent:{configurable:!0},parents:{configurable:!0},depth:{configurable:!0},isLeaf:{configurable:!0},isCircular:{configurable:!0},circularParentIndex:{configurable:!0},circularParent:{configurable:!0},childrenPath:{configurable:!0}};function h(e){var t=function(e){var t=o(e);return function(r){var a=r.options,i=r.obj,o=r.callback;a.pathFormatArray="array"==a.pathFormat,r.depth=0;for(var l=!1,h=new c(i,a,(function(){return l=!0,!1}));r&&!l;){if(!r.inited){r.inited=!0;var u=e.isObject(r.value),s=e.isEmpty(r.value);if(a.checkCircular&&(r.circularParentIndex=-1,r.circularParent=null,r.isCircular=!1,u&&!s))for(var p=r.parent;p;){if(p.value===r.value){r.isCircular=!0,r.circularParent=p,r.circularParentIndex=r.depth-p.depth-1;break}p=p.parent}if(r.children=[],a.childrenPath&&a.childrenPath.forEach((function(t,n){var i=e.get(r.value,t);e.isEmpty(i)||r.children.push([t,a.strChildrenPath[n],i])})),r.isLeaf=r.isCircular||void 0!==a.childrenPath&&!r.children.length||!u||s,r.needCallback=(r.depth||a.includeRoot)&&(!a.leavesOnly||r.isLeaf),r.needCallback){h.setItem(r,!1);try{r.res=o(r.value,r.key,r.parent&&r.parent.value,h)}catch(e){throw e.message&&(e.message+="\ncallback failed before deep iterate at:\n"+t(r.path)),e}}if(l)break;!1!==r.res&&(r.childrenItems=[],l||r.isCircular||!u||(void 0===a.childrenPath||!r.depth&&a.rootIsChildren?n(r.childrenItems,r,r.value,a,[],""):r.children.length&&r.children.forEach((function(t){var i=t[0],o=t[1],c=t[2];e.isObject(c)&&n(r.childrenItems,r,c,a,i,o)})))),r.currentChildIndex=-1}if(r.childrenItems&&r.currentChildIndex<r.childrenItems.length-1)r.currentChildIndex++,r.childrenItems[r.currentChildIndex].parentItem=r,r=r.childrenItems[r.currentChildIndex];else{if(r.needCallback&&a.callbackAfterIterate){h.setItem(r,!0);try{o(r.value,r.key,r.parent&&r.parent.value,h)}catch(e){throw e.message&&(e.message+="\ncallback failed after deep iterate at:\n"+t(r.path)),e}}r=r.parentItem}}};function n(e,n,r,a,i,o){Object.entries(r).forEach((function(r){var c=r[0],l=r[1],h=a.pathFormatArray?void 0:t([c],n.strPath,o);e.push({value:l,key:c,path:(n.path||[]).concat(i,[c]),strPath:h,depth:n.depth+1,parent:{value:n.value,key:n.key,path:a.pathFormatArray?n.path:n.strPath,parent:n.parent,depth:n.depth},childrenPath:i.length&&i||void 0,strChildrenPath:o||void 0})}))}}(e);return function(n,r,a){if(void 0===r&&(r=e.identity),void 0!==(a=e.merge({includeRoot:!Array.isArray(n),pathFormat:"string",checkCircular:!1,leavesOnly:!1},a||{})).childrenPath){if(a.includeRoot||void 0!==a.rootIsChildren||(a.rootIsChildren=Array.isArray(n)),!e.isString(a.childrenPath)&&!Array.isArray(a.childrenPath))throw Error("childrenPath can be string or array");e.isString(a.childrenPath)&&(a.childrenPath=[a.childrenPath]),a.strChildrenPath=a.childrenPath,a.childrenPath=[];for(var i=a.strChildrenPath.length-1;i>=0;i--)a.childrenPath[i]=e.toPath(a.strChildrenPath[i])}return t({value:n,callback:r,options:a,obj:n}),n}}function u(e){var t=h(e),n=function(e){for(var t=[],n=0;n<e.length;n++)n in e||t.push(n);for(var r=t.length;r--;)e.splice(t[r],1);return e},r=e.each||e.forArray;return function(a,i){var o={checkCircular:(i=e.merge({checkCircular:!1},i||{})).checkCircular},c=[];return t(a,(function(e,t,n,r){!r.isCircular&&Array.isArray(e)&&c.push(e)}),o),Array.isArray(a)&&c.push(a),r(c,n),a}}function s(e){return function(t,n){var r=(n=Array.isArray(n)?e.clone(n):e.toPath(n)).pop(),a=n.length?e.get(t,n):t;return void 0!==a&&r in a}}function p(e){var t=h(e),n=o(e),r=u(e),a=s(e);return function(i,o,c){o=e.iteratee(o),c?void 0!==(c=e.cloneDeep(c)).leafsOnly&&(c.leavesOnly=c.leafsOnly):c={},c.onTrue||(c.onTrue={}),c.onFalse||(c.onFalse={}),c.onUndefined||(c.onUndefined={}),void 0!==c.childrenPath&&(void 0===c.onTrue.skipChildren&&(c.onTrue.skipChildren=!1),void 0===c.onUndefined.skipChildren&&(c.onUndefined.skipChildren=!1),void 0===c.onFalse.skipChildren&&(c.onFalse.skipChildren=!1),void 0===c.onTrue.cloneDeep&&(c.onTrue.cloneDeep=!0),void 0===c.onUndefined.cloneDeep&&(c.onUndefined.cloneDeep=!0),void 0===c.onFalse.cloneDeep&&(c.onFalse.cloneDeep=!0));var l,h={pathFormat:(c=e.merge({checkCircular:!1,keepCircular:!0,leavesOnly:void 0===c.childrenPath,condense:!0,cloneDeep:e.cloneDeep,pathFormat:"string",onTrue:{skipChildren:!0,cloneDeep:!0,keepIfEmpty:!0},onUndefined:{skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1},onFalse:{skipChildren:!0,cloneDeep:!1,keepIfEmpty:!1}},c)).pathFormat,checkCircular:c.checkCircular,childrenPath:c.childrenPath,includeRoot:c.includeRoot,rootIsChildren:c.rootIsChildren,callbackAfterIterate:!0,leavesOnly:!1},u=Array.isArray(i)?[]:e.isObject(i)?{}:null,s={},p=[];return t(i,(function(t,r,a,i){var h=n(i.path);if(!i.afterIterate){if(i.isCircular)return e.unset(u,i.path),c.keepCircular&&p.push([i.path,i.circularParent.path]),!1;var d=!c.leavesOnly||i.isLeaf?o(t,r,a,i):void 0;return e.isObject(d)||(d=void 0===d?e.clone(c.onUndefined):d?e.clone(c.onTrue):e.clone(c.onFalse)),void 0===d.empty&&(d.empty=!0),void 0!==h?(s[h]=d,l||(l={skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1,empty:d.empty})):l=d,!d.keepIfEmpty&&d.skipChildren||(c.cloneDeep&&d.cloneDeep?void 0!==i.path?e.set(u,i.path,c.cloneDeep(t)):u=c.cloneDeep(t):void 0!==i.path?e.set(u,i.path,Array.isArray(t)?[]:e.isPlainObject(t)?{}:t):u=Array.isArray(t)?[]:e.isPlainObject(t)?{}:t),!d.skipChildren}!i.afterIterate||i.isCircular||(void 0===h&&l.empty&&!l.keepIfEmpty?u=null:void 0!==h&&s[h].empty&&!s[h].keepIfEmpty?e.unset(u,i.path):(e.eachRight(i.parents,(function(e){var t=n(e.path);if(void 0===t||!s[t].empty)return!1;s[t].empty=!1})),l.empty=!1))}),h),l&&l.empty&&!l.keepIfEmpty&&(u=null),e.each(p,(function(t){var n;(void 0===t[1]||a(u,t[1]))&&(n=e.has(c,"replaceCircularBy")?c.replaceCircularBy:void 0!==t[1]?e.get(u,t[1]):u,e.set(u,t[0],n))})),c.condense&&(u=r(u,{checkCircular:c.checkCircular})),!Array.isArray(u)||u.length||h.includeRoot?u:null}}function d(e){var t=h(e);return function(n,r,a){r=e.iteratee(r),a?void 0!==(a=e.cloneDeep(a)).leafsOnly&&(a.leavesOnly=a.leafsOnly):a={};var i,o={pathFormat:(a=e.merge({checkCircular:!1,leavesOnly:void 0===a.childrenPath,pathFormat:"string"},a)).pathFormat,checkCircular:a.checkCircular,childrenPath:a.childrenPath,includeRoot:a.includeRoot,rootIsChildren:a.rootIsChildren,callbackAfterIterate:!1,leavesOnly:a.leavesOnly};return t(n,(function(e,t,n,a){if(r(e,t,n,a))return i={value:e,key:t,parent:n,context:a},a.break()}),o),i}}function f(e){var t=d(e);return function(e,n,r){var a=t(e,n,r);return a&&a.context.path}}function v(e){var t=d(e);return function(e,n,r){var a=t(e,n,r);return a&&a.value}}function y(e){return h(e)}function C(e){var t=h(e);return function(n,r){(r=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!r||void 0===r.childrenPath},r||{}))&&void 0!==r.leafsOnly&&(r.leavesOnly=r.leafsOnly);var a={pathFormat:"string",checkCircular:r.checkCircular,includeRoot:r.includeRoot,childrenPath:r.childrenPath,rootIsChildren:r.rootIsChildren,leavesOnly:r.leavesOnly},i={};return t(n,(function(e,t,n,a){a.isCircular&&!r.includeCircularPath||void 0!==a.path&&(i[a.path]=e)}),a),i}}function m(e){var t=h(e);return function(n,r){r&&void 0!==r.leafsOnly&&(r.leavesOnly=r.leafsOnly);var a={pathFormat:(r=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!r||void 0===r.childrenPath,pathFormat:"string"},r||{})).pathFormat,checkCircular:r.checkCircular,includeRoot:r.includeRoot,childrenPath:r.childrenPath,rootIsChildren:r.rootIsChildren,leavesOnly:r.leavesOnly},i=[];return t(n,(function(e,t,n,a){a.isCircular&&!r.includeCircularPath||void 0!==a.path&&i.push(a.path)}),a),i}}function P(e){return m(e)}function g(e){var t=h(e);return function(e,n,r,a){var i=void 0!==r;return t(e,(function(e,t,a,o){i?r=n(r,e,t,a,o):(r=e,i=!0)}),a),r}}function k(e){var t=g(e);return function(n,r,a){return r=e.iteratee(r),t(n,(function(e,t,n,a,i){return e.push(r(t,n,a,i)),e}),[],a)}}function b(e){var t=h(e),n=o(e);return function(r,a,i){void 0===i&&(i={}),a=e.iteratee(a),i.cloneDeep=i.cloneDeep||e.cloneDeep,i.callbackAfterIterate=!1;var o=[];t(r,(function(e,t,r,c){if(void 0!==t){var l=a(e,t,r,c)+"";if(l!==t){var h=c.path,u="array"===i.pathFormat?JSON.stringify(h):h,s="array"===i.pathFormat?(c.parent.path||[]).concat(c.childrenPath||[],[l]):n([l],c.parent.path,c.childrenPath),p="array"===i.pathFormat?JSON.stringify(s):s;o[c.depth-1]||(o[c.depth-1]=[]),o[c.depth-1].push({oldPath:h,oldPathStr:u,newPath:s,newPathStr:p})}}}),i);for(var c=i.cloneDeep(r),l=o.length,h=function(){if(o[l]){var t={};o[l].forEach((function(n){var r,a=n.oldPath,i=n.oldPathStr,o=n.newPath,l=n.newPathStr;if(Object.prototype.hasOwnProperty.call(t,i))r=t[i],delete t[i];else{if(void 0===(r=e.get(c,a))&&!e.has(c,a))return;e.unset(c,a)}e.has(c,o)&&!Object.prototype.hasOwnProperty.call(t,l)&&(t[l]=e.get(c,o)),e.set(c,o,r)}))}};l--;)h();return c}}function I(e){var t=h(e);return function(n,r,a){r=e.iteratee(r);var i=Array.isArray(n)?[]:e.isObject(n)?{}:e.clone(n);return t(n,(function(t,n,a,o){var c=r(t,n,a,o);void 0===n?i=c:e.set(i,o.path,c)}),a),i}}function O(e){var t=o(e);return function(n,r){var a,i;e.isString(n)?a=n:i=n,r=Array.isArray(r)?e.cloneDeep(r):[r];for(var o=0;o<r.length;o++)if(e.isString(r[o])&&(r[o]=e.toPath(r[o])),Array.isArray(r[o])){if(void 0===i&&(i=e.toPath(a)),i.length>=r[o].length&&e.isEqual(e.takeRight(i,r[o].length),r[o]))return r[o]}else{if(!(r[o]instanceof RegExp))throw new Error("To match path use only string/regex or array of them.");if(void 0===a&&(a=t(n)),r[o].test(a))return r[o]}return!1}}function D(e){var t=O(e),n=p(e);return function(r,a,i){var o=!(i=e.merge({invert:!1},i||{})).invert;return(i=e.merge({onMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:!o},onNotMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:o}},i)).leavesOnly=!1,i.childrenPath=void 0,i.includeRoot=void 0,i.pathFormat="array",i.onTrue=i.invert?i.onMatch:i.onNotMatch,i.onFalse=i.invert?i.onNotMatch:i.onMatch,n(r,(function(e,n,r,o){return!1!==t(o.path,a)?i.invert:!i.invert}),i)}}function A(e){var t=D(e);return function(n,r,a){return(a=e.merge({invert:!1},a||{})).invert=!0,t(n,r,a)}}function F(e){var t=d(e);return function(e,n,r){return!!t(e,n,r)}}return c.prototype.setItem=function(e,t){this._item=e,this.afterIterate=t},l.path.get=function(){return this._options.pathFormatArray?this._item.path:this._item.strPath},l.parent.get=function(){return this._item.parent},l.parents.get=function(){if(!this._item._parents){this._item._parents=[];for(var e=this._item.parent;e;)this._item._parents[e.depth]=e,e=e.parent}return this._item._parents},l.depth.get=function(){return this._item.depth},l.isLeaf.get=function(){return this._item.isLeaf},l.isCircular.get=function(){return this._item.isCircular},l.circularParentIndex.get=function(){return this._item.circularParentIndex},l.circularParent.get=function(){return this._item.circularParent},l.childrenPath.get=function(){return void 0!==this._options.childrenPath&&(this._options.pathFormatArray?this._item.childrenPath:this._item.strChildrenPath)||void 0},Object.defineProperties(c.prototype,l),s.notChainable=!0,O.notChainable=!0,function(n){return function(n){e(n)("condense",(function(e){for(var t=[],n=0;n<e.length;n++)n in e||t.push(n);for(var r=t.length;r--;)e.splice(t[r],1);return e}),!t.notChainable)}(n),function(t){e(t)("condenseDeep",u(t),!u.notChainable)}(n),function(t){e(t)("eachDeep",h(t),!h.notChainable)}(n),function(t){e(t)("exists",s(t),!s.notChainable)}(n),function(t){e(t)("filterDeep",p(t),!p.notChainable)}(n),function(t){e(t)("findDeep",d(t),!d.notChainable)}(n),function(t){e(t)("findPathDeep",f(t),!f.notChainable)}(n),function(t){e(t)("findValueDeep",v(t),!v.notChainable)}(n),function(t){e(t)("forEachDeep",y(t),!y.notChainable)}(n),function(t){e(t)("index",C(t),!C.notChainable)}(n),function(t){e(t)("keysDeep",P(t),!P.notChainable)}(n),function(t){e(t)("mapDeep",k(t),!k.notChainable)}(n),function(t){e(t)("mapKeysDeep",b(t),!b.notChainable)}(n),function(t){e(t)("mapValuesDeep",I(t),!I.notChainable)}(n),function(t){e(t)("omitDeep",D(t),!D.notChainable)}(n),function(t){e(t)("pathMatches",O(t),!O.notChainable)}(n),function(t){e(t)("pathToString",o(t),!o.notChainable)}(n),function(t){e(t)("paths",m(t),!m.notChainable)}(n),function(t){e(t)("pickDeep",A(t),!A.notChainable)}(n),function(t){e(t)("reduceDeep",g(t),!g.notChainable)}(n),function(t){e(t)("someDeep",F(t),!F.notChainable)}(n),n}}();
//# sourceMappingURL=deepdash.min.js.map
