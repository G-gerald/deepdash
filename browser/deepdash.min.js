var deepdash=function(){"use strict";function e(e){return function(n,r,t){if(!e[n])if(e.mixin){var a={};a[n]=r,e.mixin(a,{chain:t})}else e[n]=r;return e}}function n(e){return function(e){for(var n=[],r=0;r<e.length;r++)r in e||n.push(r);for(var t=n.length;t--;)e.splice(n[t],1);return e}}var r=/\D/,t=/^[a-zA-Z_$]+([\w_$]*)$/,a=/"/g;function i(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return e.reduce((function(e,n){return e?!n||n.startsWith("[")?""+e+n:e+"."+n:n}),"")}function o(e){return function(n){for(var o=[],c=arguments.length-1;c-- >0;)o[c]=arguments[c+1];return e.isString(n)?i.apply(void 0,o.concat([n])):e.isArray(n)?(o=i.apply(void 0,o),n.reduce((function(e,n){var i=typeof n;return"number"===i?n<0||n%1!=0?e+'["'+n+'"]':e+"["+n+"]":"string"!==i?e+'["'+n+'"]':n?r.test(n)?t.test(n)?e?e+"."+n:""+e+n:e+'["'+n.replace(a,'\\"')+'"]':e+"["+n+"]":e+'[""]'}),o)):void 0}}function c(e){var n=function(e){var n=o(e),r=function(e){return function(n,r){return e.some(r,(function(r){var t=e.get(n,r);return!e.isEmpty(t)}))}}(e),t=e.each||e.forArray;return function a(i){var o=i.value,c=i.callback,l=i.options,h=i.key,u=i.path,s=i.strPath,p=i.depth;void 0===p&&(p=0);var d=i.parent,f=i.parents;void 0===f&&(f=[]);var v=i.obj,y=i.childrenPath,C=i.strChildrenPath;if(!l.break){var k,m={value:o,key:h,path:"array"==l.pathFormat?u:s||n(u),parent:d},b=f.concat([m]),P=void 0,g=void 0;if(l.checkCircular){if(e.isObject(o)&&!e.isEmpty(o)){P=-1;for(var O=f.length;O--;)if(f[O].value===o){P=O;break}g=f[P]||null}else P=-1,g=null;k=-1!==P}var D=!e.isObject(o)||e.isEmpty(o)||k||void 0!==l.childrenPath&&!r(o,l.childrenPath),I=(p||l.includeRoot)&&(!l.leavesOnly||D);if(I){var F={path:m.path,parent:d,parents:f,obj:v,depth:p,isCircular:k,circularParent:g,circularParentIndex:P,isLeaf:D,break:function(){return l.break=!0,!1}};void 0!==l.childrenPath&&(m.childrenPath="array"==l.pathFormat?y:C,F.childrenPath=m.childrenPath);try{var A=c(o,h,d&&d.value,F)}catch(e){throw e.message&&(e.message+="\ncallback failed before deep iterate at:\n"+F.path),e}}if(!l.break&&!1!==A&&!k&&e.isObject(o))if(void 0!==l.childrenPath){function E(r,t,i){r&&e.isObject(r)&&e.forOwn(r,(function(e,r){var o=(u||[]).concat(t||[],[r]),h="array"==l.pathFormat?n([r],s||"",i||""):void 0;a({value:e,callback:c,options:l,key:r,path:o,strPath:h,depth:p+1,parent:m,parents:b,obj:v,childrenPath:t,strChildrenPath:i})}))}!p&&l.rootIsChildren?e.isArray(o)?E(o):e.forOwn(o,(function(e,r){a({value:e,callback:c,options:l,key:r,path:[r],strPath:n([r]),depth:p+1,parent:m,parents:b,obj:v})})):t(l.childrenPath,(function(n,r){E(e.get(o,n),n,l.strChildrenPath[r])}))}else e.forOwn(o,(function(r,t){if(!e.isArray(o)||void 0!==r||t in o){var i=(u||[]).concat([t]),h="array"==l.pathFormat?n([t],s||""):void 0;a({value:r,callback:c,options:l,key:t,path:i,strPath:h,depth:p+1,parent:m,parents:b,obj:v})}}));if(l.callbackAfterIterate&&I){F.afterIterate=!0;try{c(o,h,d&&d.value,F)}catch(e){throw e.message&&(e.message+="\ncallback failed after deep iterate at:\n"+F.path),e}}}}}(e);return function(r,t,a){if(void 0===t&&(t=e.identity),void 0!==(a=e.merge({includeRoot:!e.isArray(r),pathFormat:"string",checkCircular:!1,leavesOnly:!1},a||{})).childrenPath){if(a.includeRoot||void 0!==a.rootIsChildren||(a.rootIsChildren=e.isArray(r)),!e.isString(a.childrenPath)&&!e.isArray(a.childrenPath))throw Error("childrenPath can be string or array");e.isString(a.childrenPath)&&(a.childrenPath=[a.childrenPath]),a.strChildrenPath=a.childrenPath,a.childrenPath=[];for(var i=a.strChildrenPath.length-1;i>=0;i--)a.childrenPath[i]=e.toPath(a.strChildrenPath[i])}return n({value:r,callback:t,options:a,obj:r}),r}}function l(e){var n=c(e),r=function(e){for(var n=[],r=0;r<e.length;r++)r in e||n.push(r);for(var t=n.length;t--;)e.splice(n[t],1);return e},t=e.each||e.forArray;return function(a,i){var o={checkCircular:(i=e.merge({checkCircular:!1},i||{})).checkCircular},c=[];return n(a,(function(n,r,t,a){!a.isCircular&&e.isArray(n)&&c.push(n)}),o),e.isArray(a)&&c.push(a),t(c,r),a}}function h(e){return function(n,r){var t=(r=e.isArray(r)?e.clone(r):e.toPath(r)).pop(),a=r.length?e.get(n,r):n;return void 0!==a&&t in a}}function u(e){var n=c(e),r=o(e),t=l(e),a=h(e);return function(i,o,c){o=e.iteratee(o),c?void 0!==(c=e.cloneDeep(c)).leafsOnly&&(c.leavesOnly=c.leafsOnly):c={},c.onTrue||(c.onTrue={}),c.onFalse||(c.onFalse={}),c.onUndefined||(c.onUndefined={}),void 0!==c.childrenPath&&(void 0===c.onTrue.skipChildren&&(c.onTrue.skipChildren=!1),void 0===c.onUndefined.skipChildren&&(c.onUndefined.skipChildren=!1),void 0===c.onFalse.skipChildren&&(c.onFalse.skipChildren=!1),void 0===c.onTrue.cloneDeep&&(c.onTrue.cloneDeep=!0),void 0===c.onUndefined.cloneDeep&&(c.onUndefined.cloneDeep=!0),void 0===c.onFalse.cloneDeep&&(c.onFalse.cloneDeep=!0));var l,h={pathFormat:(c=e.merge({checkCircular:!1,keepCircular:!0,leavesOnly:void 0===c.childrenPath,condense:!0,cloneDeep:e.cloneDeep,pathFormat:"string",onTrue:{skipChildren:!0,cloneDeep:!0,keepIfEmpty:!0},onUndefined:{skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1},onFalse:{skipChildren:!0,cloneDeep:!1,keepIfEmpty:!1}},c)).pathFormat,checkCircular:c.checkCircular,childrenPath:c.childrenPath,includeRoot:c.includeRoot,rootIsChildren:c.rootIsChildren,callbackAfterIterate:!0,leavesOnly:!1},u=e.isArray(i)?[]:e.isObject(i)?{}:null,s={},p=[];return n(i,(function(n,t,a,i){delete i.break;var h=r(i.path);if(!i.afterIterate){if(i.isCircular)return e.unset(u,i.path),c.keepCircular&&p.push([i.path,i.circularParent.path]),!1;var d=!c.leavesOnly||i.isLeaf?o(n,t,a,i):void 0;return e.isObject(d)||(d=void 0===d?e.clone(c.onUndefined):d?e.clone(c.onTrue):e.clone(c.onFalse)),void 0===d.empty&&(d.empty=!0),void 0!==h?(s[h]=d,l||(l={skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1,empty:d.empty})):l=d,!d.keepIfEmpty&&d.skipChildren||(c.cloneDeep&&d.cloneDeep?void 0!==i.path?e.set(u,i.path,c.cloneDeep(n)):u=c.cloneDeep(n):void 0!==i.path?e.set(u,i.path,e.isArray(n)?[]:e.isPlainObject(n)?{}:n):u=e.isArray(n)?[]:e.isPlainObject(n)?{}:n),!d.skipChildren}!i.afterIterate||i.isCircular||(void 0===h&&l.empty&&!l.keepIfEmpty?u=null:void 0!==h&&s[h].empty&&!s[h].keepIfEmpty?e.unset(u,i.path):(e.eachRight(i.parents,(function(e){var n=r(e.path);if(void 0===n||!s[n].empty)return!1;s[n].empty=!1})),l.empty=!1))}),h),l&&l.empty&&!l.keepIfEmpty&&(u=null),e.each(p,(function(n){var r;(void 0===n[1]||a(u,n[1]))&&(r=e.has(c,"replaceCircularBy")?c.replaceCircularBy:void 0!==n[1]?e.get(u,n[1]):u,e.set(u,n[0],r))})),c.condense&&(u=t(u,{checkCircular:c.checkCircular})),!e.isArray(u)||u.length||h.includeRoot?u:null}}function s(e){var n=c(e);return function(r,t,a){t=e.iteratee(t),a?void 0!==(a=e.cloneDeep(a)).leafsOnly&&(a.leavesOnly=a.leafsOnly):a={};var i,o={pathFormat:(a=e.merge({checkCircular:!1,leavesOnly:void 0===a.childrenPath,pathFormat:"string"},a)).pathFormat,checkCircular:a.checkCircular,childrenPath:a.childrenPath,includeRoot:a.includeRoot,rootIsChildren:a.rootIsChildren,callbackAfterIterate:!1,leavesOnly:a.leavesOnly};return n(r,(function(e,n,r,a){if(t(e,n,r,a))return i={value:e,key:n,parent:r,context:a},a.break()}),o),i}}function p(e){var n=s(e);return function(e,r,t){var a=n(e,r,t);return a&&a.context.path}}function d(e){var n=s(e);return function(e,r,t){var a=n(e,r,t);return a&&a.value}}function f(e){return c(e)}function v(e){var n=c(e);return function(r,t){(t=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!t||void 0===t.childrenPath},t||{}))&&void 0!==t.leafsOnly&&(t.leavesOnly=t.leafsOnly);var a={pathFormat:"string",checkCircular:t.checkCircular,includeRoot:t.includeRoot,childrenPath:t.childrenPath,rootIsChildren:t.rootIsChildren,leavesOnly:t.leavesOnly},i={};return n(r,(function(e,n,r,a){a.isCircular&&!t.includeCircularPath||void 0!==a.path&&(i[a.path]=e)}),a),i}}function y(e){var n=c(e);return function(r,t){t&&void 0!==t.leafsOnly&&(t.leavesOnly=t.leafsOnly);var a={pathFormat:(t=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!t||void 0===t.childrenPath,pathFormat:"string"},t||{})).pathFormat,checkCircular:t.checkCircular,includeRoot:t.includeRoot,childrenPath:t.childrenPath,rootIsChildren:t.rootIsChildren,leavesOnly:t.leavesOnly},i=[];return n(r,(function(e,n,r,a){a.isCircular&&!t.includeCircularPath||void 0!==a.path&&i.push(a.path)}),a),i}}function C(e){return y(e)}function k(e){var n=c(e);return function(r,t,a){t=e.iteratee(t);var i=e.isArray(r)?[]:e.isObject(r)?{}:e.clone(r);return n(r,(function(n,r,a,o){delete o.break;var c=t(n,r,a,o);void 0===r?i=c:e.set(i,o.path,c)}),a),i}}function m(e){var n=o(e);return function(r,t){var a,i;e.isString(r)?a=r:i=r,t=e.isArray(t)?e.cloneDeep(t):[t];for(var o=0;o<t.length;o++)if(e.isString(t[o])&&(t[o]=e.toPath(t[o])),e.isArray(t[o])){if(void 0===i&&(i=e.toPath(a)),i.length>=t[o].length&&e.isEqual(e.takeRight(i,t[o].length),t[o]))return t[o]}else{if(!(t[o]instanceof RegExp))throw new Error("To match path use only string/regex or array of them.");if(void 0===a&&(a=n(r)),t[o].test(a))return t[o]}return!1}}function b(e){var n=m(e),r=u(e);return function(t,a,i){var o=!(i=e.merge({invert:!1},i||{})).invert;return(i=e.merge({onMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:!o},onNotMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:o}},i)).leavesOnly=!1,i.childrenPath=void 0,i.includeRoot=void 0,i.pathFormat="array",i.onTrue=i.invert?i.onMatch:i.onNotMatch,i.onFalse=i.invert?i.onNotMatch:i.onMatch,r(t,(function(e,r,t,o){return!1!==n(o.path,a)?i.invert:!i.invert}),i)}}function P(e){var n=b(e);return function(r,t,a){return(a=e.merge({invert:!1},a||{})).invert=!0,n(r,t,a)}}function g(e){var n=c(e);return function(r,t,a,i){t=e.iteratee(t);var o=void 0!==a;return n(r,(function(e,n,r,i){delete i.break,o?a=t(a,e,n,r,i):(a=e,o=!0)}),i),a}}function O(e){var n=s(e);return function(e,r,t){return!!n(e,r,t)}}return o.notChainable=!0,h.notChainable=!0,m.notChainable=!0,function(r){return function(r){e(r)("condense",(function(e){for(var n=[],r=0;r<e.length;r++)r in e||n.push(r);for(var t=n.length;t--;)e.splice(n[t],1);return e}),!n.notChainable)}(r),function(n){e(n)("condenseDeep",l(n),!l.notChainable)}(r),function(n){e(n)("eachDeep",c(n),!c.notChainable)}(r),function(n){e(n)("exists",h(n),!h.notChainable)}(r),function(n){e(n)("filterDeep",u(n),!u.notChainable)}(r),function(n){e(n)("findDeep",s(n),!s.notChainable)}(r),function(n){e(n)("findPathDeep",p(n),!p.notChainable)}(r),function(n){e(n)("findValueDeep",d(n),!d.notChainable)}(r),function(n){e(n)("forEachDeep",f(n),!f.notChainable)}(r),function(n){e(n)("index",v(n),!v.notChainable)}(r),function(n){e(n)("keysDeep",C(n),!C.notChainable)}(r),function(n){e(n)("mapDeep",k(n),!k.notChainable)}(r),function(n){e(n)("omitDeep",b(n),!b.notChainable)}(r),function(n){e(n)("pathMatches",m(n),!m.notChainable)}(r),function(n){e(n)("pathToString",o(n),!o.notChainable)}(r),function(n){e(n)("paths",y(n),!y.notChainable)}(r),function(n){e(n)("pickDeep",P(n),!P.notChainable)}(r),function(n){e(n)("reduceDeep",g(n),!g.notChainable)}(r),function(n){e(n)("someDeep",O(n),!O.notChainable)}(r),r}}();
//# sourceMappingURL=deepdash.min.js.map
