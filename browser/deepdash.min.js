var deepdash=function(){"use strict";function e(e){return function(n,r,t){if(!e[n])if(e.mixin){var i={};i[n]=r,e.mixin(i,{chain:t})}else e[n]=r;return e}}function n(e){return function(e){for(var n=[],r=0;r<e.length;r++)r in e||n.push(r);for(var t=n.length;t--;)e.splice(n[t],1);return e}}var r=/^\d+$/,t=/^[a-zA-Z_$]+([\w_$]*)$/;function i(e){return function(n){return e.isString(n)?n:e.isArray(n)?e.reduce(n,(function(e,n){return r.test(n)?e+"["+n+"]":t.test(n)?e+(e?".":"")+n:e+'["'+n.toString().replace(/"/g,'\\"')+'"]'}),""):void 0}}function a(e){var n=function(e){var n=i(e),r=function(e){return function(n,r){return e.some(r,(function(r){var t=e.get(n,r);return!e.isEmpty(t)}))}}(e),t=e.each||e.forArray;return function i(a,o,c,l,u,h,d,f,s,p){if(!c.break){var v,y={value:a,key:l,path:"array"==c.pathFormat?u:n(u),parent:d},C=f.concat([y]),k=void 0,m=void 0,g=void 0;c.checkCircular&&(e.isObject(a)&&!e.isEmpty(a)?g=f[m=e.findIndex(f,(function(e){return e.value===a}))]||null:(m=-1,g=null),k=-1!==m);var b=!e.isObject(a)||e.isEmpty(a)||k||void 0!==c.childrenPath&&!r(a,c.childrenPath),P=(h||c.includeRoot)&&(!c.leavesOnly||b);if(P){var O={path:"array"==c.pathFormat?u:n(u),parent:d,parents:f,obj:s,depth:h,isCircular:k,circularParent:g,circularParentIndex:m,isLeaf:b,break:function(){return c.break=!0,!1}};void 0!==c.childrenPath&&(y.childrenPath="array"==c.pathFormat?p:n(p),O.childrenPath=y.childrenPath);try{v=o(a,l,d&&d.value,O)}catch(e){throw e.message&&(e.message+="\ncallback failed before deep iterate at:\n"+O.path),e}}if(!c.break&&!1!==v&&!k&&e.isObject(a))if(void 0!==c.childrenPath){function D(n,r){n&&e.isObject(n)&&e.forOwn(n,(function(e,n){var t=(u||[]).concat(r||[],[n]);i(e,o,c,n,t,h+1,y,C,s,r)}))}!h&&c.rootIsChildren?D(a,void 0):t(c.childrenPath,(function(n){D(e.get(a,n),n)}))}else e.forOwn(a,(function(n,r){if(!e.isArray(a)||void 0!==n||r in a){var t=(u||[]).concat([r]);i(n,o,c,r,t,h+1,y,C,s)}}));if(c.callbackAfterIterate&&P){O.afterIterate=!0;try{o(a,l,d&&d.value,O)}catch(e){throw e.message&&(e.message+="\ncallback failed after deep iterate at:\n"+O.path),e}}}}}(e);return function(r,t,i){if(void 0===t&&(t=e.identity),void 0!==(i=e.merge({includeRoot:!e.isArray(r),pathFormat:"string",checkCircular:!1,leavesOnly:!1},i||{})).childrenPath){if(i.includeRoot||void 0!==i.rootIsChildren||(i.rootIsChildren=e.isArray(r)),!e.isString(i.childrenPath)&&!e.isArray(i.childrenPath))throw Error("childrenPath can be string or array");e.isString(i.childrenPath)&&(i.childrenPath=[i.childrenPath]);for(var a=i.childrenPath.length-1;a>=0;a--)i.childrenPath[a]=e.toPath(i.childrenPath[a])}return n(r,t,i,void 0,void 0,0,void 0,[],r),r}}function o(e){var n=a(e),r=function(e){for(var n=[],r=0;r<e.length;r++)r in e||n.push(r);for(var t=n.length;t--;)e.splice(n[t],1);return e},t=e.each||e.forArray;return function(i,a){var o={checkCircular:(a=e.merge({checkCircular:!1},a||{})).checkCircular},c=[];return n(i,(function(n,r,t,i){!i.isCircular&&e.isArray(n)&&c.push(n)}),o),e.isArray(i)&&c.push(i),t(c,r),i}}function c(e){return function(n,r){var t=(r=e.isArray(r)?e.clone(r):e.toPath(r)).pop(),i=r.length?e.get(n,r):n;return void 0!==i&&t in i}}function l(e){var n=a(e),r=i(e),t=o(e),l=c(e);return function(i,a,o){a=e.iteratee(a),o?void 0!==(o=e.cloneDeep(o)).leafsOnly&&(o.leavesOnly=o.leafsOnly):o={},o.onTrue||(o.onTrue={}),o.onFalse||(o.onFalse={}),o.onUndefined||(o.onUndefined={}),void 0!==o.childrenPath&&(void 0===o.onTrue.skipChildren&&(o.onTrue.skipChildren=!1),void 0===o.onUndefined.skipChildren&&(o.onUndefined.skipChildren=!1),void 0===o.onFalse.skipChildren&&(o.onFalse.skipChildren=!1),void 0===o.onTrue.cloneDeep&&(o.onTrue.cloneDeep=!0),void 0===o.onUndefined.cloneDeep&&(o.onUndefined.cloneDeep=!0),void 0===o.onFalse.cloneDeep&&(o.onFalse.cloneDeep=!0));var c,u={pathFormat:(o=e.merge({checkCircular:!1,keepCircular:!0,leavesOnly:void 0===o.childrenPath,condense:!0,cloneDeep:e.cloneDeep,pathFormat:"string",onTrue:{skipChildren:!0,cloneDeep:!0,keepIfEmpty:!0},onUndefined:{skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1},onFalse:{skipChildren:!0,cloneDeep:!1,keepIfEmpty:!1}},o)).pathFormat,checkCircular:o.checkCircular,childrenPath:o.childrenPath,includeRoot:o.includeRoot,rootIsChildren:o.rootIsChildren,callbackAfterIterate:!0,leavesOnly:!1},h=e.isArray(i)?[]:e.isObject(i)?{}:null,d={},f=[];return n(i,(function(n,t,i,l){delete l.break;var u=r(l.path);if(!l.afterIterate){if(l.isCircular)return e.unset(h,l.path),o.keepCircular&&f.push([l.path,l.circularParent.path]),!1;var s=!o.leavesOnly||l.isLeaf?a(n,t,i,l):void 0;return e.isObject(s)||(s=void 0===s?e.clone(o.onUndefined):s?e.clone(o.onTrue):e.clone(o.onFalse)),void 0===s.empty&&(s.empty=!0),void 0!==u?(d[u]=s,c||(c={skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1,empty:s.empty})):c=s,!s.keepIfEmpty&&s.skipChildren||(o.cloneDeep&&s.cloneDeep?void 0!==l.path?e.set(h,l.path,o.cloneDeep(n)):h=o.cloneDeep(n):void 0!==l.path?e.set(h,l.path,e.isArray(n)?[]:e.isPlainObject(n)?{}:n):h=e.isArray(n)?[]:e.isPlainObject(n)?{}:n),!s.skipChildren}!l.afterIterate||l.isCircular||(void 0===u&&c.empty&&!c.keepIfEmpty?h=null:void 0!==u&&d[u].empty&&!d[u].keepIfEmpty?e.unset(h,l.path):(e.eachRight(l.parents,(function(e){var n=r(e.path);if(void 0===n||!d[n].empty)return!1;d[n].empty=!1})),c.empty=!1))}),u),c&&c.empty&&!c.keepIfEmpty&&(h=null),e.each(f,(function(n){var r;(void 0===n[1]||l(h,n[1]))&&(r=e.has(o,"replaceCircularBy")?o.replaceCircularBy:void 0!==n[1]?e.get(h,n[1]):h,e.set(h,n[0],r))})),o.condense&&(h=t(h,{checkCircular:o.checkCircular})),!e.isArray(h)||h.length||u.includeRoot?h:null}}function u(e){var n=a(e);return function(r,t,i){t=e.iteratee(t),i?void 0!==(i=e.cloneDeep(i)).leafsOnly&&(i.leavesOnly=i.leafsOnly):i={};var a,o={pathFormat:(i=e.merge({checkCircular:!1,leavesOnly:void 0===i.childrenPath,pathFormat:"string"},i)).pathFormat,checkCircular:i.checkCircular,childrenPath:i.childrenPath,includeRoot:i.includeRoot,rootIsChildren:i.rootIsChildren,callbackAfterIterate:!1,leavesOnly:i.leavesOnly};return n(r,(function(e,n,r,i){if(t(e,n,r,i))return a={value:e,key:n,parent:r,context:i},i.break()}),o),a}}function h(e){var n=u(e);return function(e,r,t){var i=n(e,r,t);return i&&i.context.path}}function d(e){var n=u(e);return function(e,r,t){var i=n(e,r,t);return i&&i.value}}function f(e){return a(e)}function s(e){var n=a(e);return function(r,t){(t=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!t||void 0===t.childrenPath},t||{}))&&void 0!==t.leafsOnly&&(t.leavesOnly=t.leafsOnly);var i={pathFormat:"string",checkCircular:t.checkCircular,includeRoot:t.includeRoot,childrenPath:t.childrenPath,rootIsChildren:t.rootIsChildren,leavesOnly:t.leavesOnly},a={};return n(r,(function(e,n,r,i){i.isCircular&&!t.includeCircularPath||void 0!==i.path&&(a[i.path]=e)}),i),a}}function p(e){var n=a(e);return function(r,t){t&&void 0!==t.leafsOnly&&(t.leavesOnly=t.leafsOnly);var i={pathFormat:(t=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!t||void 0===t.childrenPath,pathFormat:"string"},t||{})).pathFormat,checkCircular:t.checkCircular,includeRoot:t.includeRoot,childrenPath:t.childrenPath,rootIsChildren:t.rootIsChildren,leavesOnly:t.leavesOnly},a=[];return n(r,(function(e,n,r,i){i.isCircular&&!t.includeCircularPath||void 0!==i.path&&a.push(i.path)}),i),a}}function v(e){return p(e)}function y(e){var n=a(e);return function(r,t,i){t=e.iteratee(t);var a=e.isArray(r)?[]:e.isObject(r)?{}:e.clone(r);return n(r,(function(n,r,i,o){delete o.break;var c=t(n,r,i,o);void 0===r?a=c:e.set(a,o.path,c)}),i),a}}function C(e){var n=i(e);return function(r,t){var i,a;e.isString(r)?i=r:a=r,t=e.isArray(t)?e.cloneDeep(t):[t];for(var o=0;o<t.length;o++)if(e.isString(t[o])&&(t[o]=e.toPath(t[o])),e.isArray(t[o])){if(void 0===a&&(a=e.toPath(i)),a.length>=t[o].length&&e.isEqual(e.takeRight(a,t[o].length),t[o]))return t[o]}else{if(!(t[o]instanceof RegExp))throw new Error("To match path use only string/regex or array of them.");if(void 0===i&&(i=n(r)),t[o].test(i))return t[o]}return!1}}function k(e){var n=C(e),r=l(e);return function(t,i,a){var o=!(a=e.merge({invert:!1},a||{})).invert;return(a=e.merge({onMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:!o},onNotMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:o}},a)).leavesOnly=!1,a.childrenPath=void 0,a.includeRoot=void 0,a.pathFormat="array",a.onTrue=a.invert?a.onMatch:a.onNotMatch,a.onFalse=a.invert?a.onNotMatch:a.onMatch,r(t,(function(e,r,t,o){return!1!==n(o.path,i)?a.invert:!a.invert}),a)}}function m(e){var n=k(e);return function(r,t,i){return(i=e.merge({invert:!1},i||{})).invert=!0,n(r,t,i)}}function g(e){var n=a(e);return function(r,t,i,a){t=e.iteratee(t);var o=void 0!==i;return n(r,(function(e,n,r,a){delete a.break,o?i=t(i,e,n,r,a):(i=e,o=!0)}),a),i}}function b(e){var n=u(e);return function(e,r,t){return!!n(e,r,t)}}return i.notChainable=!0,c.notChainable=!0,C.notChainable=!0,function(r){return function(r){e(r)("condense",(function(e){for(var n=[],r=0;r<e.length;r++)r in e||n.push(r);for(var t=n.length;t--;)e.splice(n[t],1);return e}),!n.notChainable)}(r),function(n){e(n)("condenseDeep",o(n),!o.notChainable)}(r),function(n){e(n)("eachDeep",a(n),!a.notChainable)}(r),function(n){e(n)("exists",c(n),!c.notChainable)}(r),function(n){e(n)("filterDeep",l(n),!l.notChainable)}(r),function(n){e(n)("findDeep",u(n),!u.notChainable)}(r),function(n){e(n)("findPathDeep",h(n),!h.notChainable)}(r),function(n){e(n)("findValueDeep",d(n),!d.notChainable)}(r),function(n){e(n)("forEachDeep",f(n),!f.notChainable)}(r),function(n){e(n)("index",s(n),!s.notChainable)}(r),function(n){e(n)("keysDeep",v(n),!v.notChainable)}(r),function(n){e(n)("mapDeep",y(n),!y.notChainable)}(r),function(n){e(n)("omitDeep",k(n),!k.notChainable)}(r),function(n){e(n)("pathMatches",C(n),!C.notChainable)}(r),function(n){e(n)("pathToString",i(n),!i.notChainable)}(r),function(n){e(n)("paths",p(n),!p.notChainable)}(r),function(n){e(n)("pickDeep",m(n),!m.notChainable)}(r),function(n){e(n)("reduceDeep",g(n),!g.notChainable)}(r),function(n){e(n)("someDeep",b(n),!b.notChainable)}(r),r}}();
//# sourceMappingURL=deepdash.min.js.map
