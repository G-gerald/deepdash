var deepdash=function(){"use strict";function e(e){return function(r,n,t){if(!e[r])if(e.mixin){var a={};a[r]=n,e.mixin(a,{chain:t})}else e[r]=n;return e}}function r(e){return function(e){for(var r=[],n=0;n<e.length;n++)n in e||r.push(n);for(var t=r.length;t--;)e.splice(r[t],1);return e}}var n=/\D/,t=/^[a-zA-Z_$]+([\w_$]*)$/,a=/"/g;function i(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return e.reduce((function(e,r){return e?!r||r.startsWith("[")?""+e+r:e+"."+r:r}),"")}function c(e){return function(r){for(var c=[],o=arguments.length-1;o-- >0;)c[o]=arguments[o+1];return c=c.filter((function(e){return void 0!==e})),e.isString(r)?i.apply(void 0,c.concat([r])):Array.isArray(r)?(c=i.apply(void 0,c),r.reduce((function(e,r){var i=typeof r;return"number"===i?r<0||r%1!=0?e+'["'+r+'"]':e+"["+r+"]":"string"!==i?e+'["'+r+'"]':r?n.test(r)?t.test(r)?e?e+"."+r:""+e+r:e+'["'+r.replace(a,'\\"')+'"]':e+"["+r+"]":e+'[""]'}),c)):void 0}}function o(e){var r=function(e){var r=c(e);return function(t){var a=t.options,i=t.obj,c=t.callback;a.pathFormatArray="array"==a.pathFormat,a.pathFormatArray&&(t.strPath=r(t.path)),t.depth=0,t.parents=[];for(var o=!1,l=function(){return o=!0,!1};t&&!o;){if(!t.inited){t.inited=!0;var h=e.isObject(t.value),u=e.isEmpty(t.value);if(t.currentObj={value:t.value,key:t.key,path:a.pathFormatArray?t.path:t.strPath,parent:t.parent},a.checkCircular&&(t.circularParentIndex=-1,t.circularParent=null,t.isCircular=!1,h&&!u))for(var p=t.parents.length;p--;)if(t.parents[p].value===t.value){t.circularParentIndex=p,t.circularParent=t.parents[p],t.isCircular=!0;break}if(t.children=[],a.childrenPath&&a.childrenPath.forEach((function(r,n){var i=e.get(t.value,r);e.isEmpty(i)||t.children.push([r,a.strChildrenPath[n],i])})),t.isLeaf=t.isCircular||void 0!==a.childrenPath&&!t.children.length||!h||u,t.needCallback=(t.depth||a.includeRoot)&&(!a.leavesOnly||t.isLeaf),t.currentParents=t.parents.concat([t.currentObj]),t.needCallback&&(t.context={path:t.currentObj.path,parent:t.parent,parents:t.parents,obj:i,depth:t.depth,isLeaf:t.isLeaf,isCircular:t.isCircular,circularParentIndex:t.circularParentIndex,circularParent:t.circularParent,break:l},void 0!==a.childrenPath&&(t.context.childrenPath=a.pathFormatArray?t.childrenPath:t.strChildrenPath)),t.needCallback)try{t.res=c(t.value,t.key,t.parent&&t.parent.value,t.context)}catch(e){throw e.message&&(e.message+="\ncallback failed before deep iterate at:\n"+t.context.path),e}if(o)break;!1!==t.res&&(t.childrenItems=[],o||t.isCircular||!h||(void 0===a.childrenPath||!t.depth&&a.rootIsChildren?n(t.childrenItems,t,t.value,a,[],""):t.children.length&&t.children.forEach((function(r){var i=r[0],c=r[1],o=r[2];e.isObject(o)&&n(t.childrenItems,t,o,a,i,c)})))),t.currentChildIndex=-1}if(t.childrenItems&&t.currentChildIndex<t.childrenItems.length-1)t.currentChildIndex++,t.childrenItems[t.currentChildIndex].parentItem=t,t=t.childrenItems[t.currentChildIndex];else{if(t.needCallback&&a.callbackAfterIterate){t.context.afterIterate=!0;try{c(t.value,t.key,t.parent&&t.parent.value,t.context)}catch(e){throw e.message&&(e.message+="\ncallback failed after deep iterate at:\n"+t.context.path),e}}t=t.parentItem}}};function n(e,n,t,a,i,c){Object.keys(t).forEach((function(o){var l=t[o],h=(n.path||[]).concat(i,[o]),u=a.pathFormatArray?void 0:r([o],n.strPath,c);e.push({value:l,key:o,path:h,strPath:u,depth:n.depth+1,parent:n.currentObj,parents:n.currentParents,childrenPath:i.length&&i||void 0,strChildrenPath:c||void 0})}))}}(e);return function(n,t,a){if(void 0===t&&(t=e.identity),void 0!==(a=e.merge({includeRoot:!Array.isArray(n),pathFormat:"string",checkCircular:!1,leavesOnly:!1},a||{})).childrenPath){if(a.includeRoot||void 0!==a.rootIsChildren||(a.rootIsChildren=Array.isArray(n)),!e.isString(a.childrenPath)&&!Array.isArray(a.childrenPath))throw Error("childrenPath can be string or array");e.isString(a.childrenPath)&&(a.childrenPath=[a.childrenPath]),a.strChildrenPath=a.childrenPath,a.childrenPath=[];for(var i=a.strChildrenPath.length-1;i>=0;i--)a.childrenPath[i]=e.toPath(a.strChildrenPath[i])}return r({value:n,callback:t,options:a,obj:n}),n}}function l(e){var r=o(e),n=function(e){for(var r=[],n=0;n<e.length;n++)n in e||r.push(n);for(var t=r.length;t--;)e.splice(r[t],1);return e},t=e.each||e.forArray;return function(a,i){var c={checkCircular:(i=e.merge({checkCircular:!1},i||{})).checkCircular},o=[];return r(a,(function(e,r,n,t){!t.isCircular&&Array.isArray(e)&&o.push(e)}),c),Array.isArray(a)&&o.push(a),t(o,n),a}}function h(e){return function(r,n){var t=(n=Array.isArray(n)?e.clone(n):e.toPath(n)).pop(),a=n.length?e.get(r,n):r;return void 0!==a&&t in a}}function u(e){var r=o(e),n=c(e),t=l(e),a=h(e);return function(i,c,o){c=e.iteratee(c),o?void 0!==(o=e.cloneDeep(o)).leafsOnly&&(o.leavesOnly=o.leafsOnly):o={},o.onTrue||(o.onTrue={}),o.onFalse||(o.onFalse={}),o.onUndefined||(o.onUndefined={}),void 0!==o.childrenPath&&(void 0===o.onTrue.skipChildren&&(o.onTrue.skipChildren=!1),void 0===o.onUndefined.skipChildren&&(o.onUndefined.skipChildren=!1),void 0===o.onFalse.skipChildren&&(o.onFalse.skipChildren=!1),void 0===o.onTrue.cloneDeep&&(o.onTrue.cloneDeep=!0),void 0===o.onUndefined.cloneDeep&&(o.onUndefined.cloneDeep=!0),void 0===o.onFalse.cloneDeep&&(o.onFalse.cloneDeep=!0));var l,h={pathFormat:(o=e.merge({checkCircular:!1,keepCircular:!0,leavesOnly:void 0===o.childrenPath,condense:!0,cloneDeep:e.cloneDeep,pathFormat:"string",onTrue:{skipChildren:!0,cloneDeep:!0,keepIfEmpty:!0},onUndefined:{skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1},onFalse:{skipChildren:!0,cloneDeep:!1,keepIfEmpty:!1}},o)).pathFormat,checkCircular:o.checkCircular,childrenPath:o.childrenPath,includeRoot:o.includeRoot,rootIsChildren:o.rootIsChildren,callbackAfterIterate:!0,leavesOnly:!1},u=Array.isArray(i)?[]:e.isObject(i)?{}:null,p={},d=[];return r(i,(function(r,t,a,i){var h=n(i.path);if(!i.afterIterate){if(i.isCircular)return e.unset(u,i.path),o.keepCircular&&d.push([i.path,i.circularParent.path]),!1;var s=!o.leavesOnly||i.isLeaf?c(r,t,a,i):void 0;return e.isObject(s)||(s=void 0===s?e.clone(o.onUndefined):s?e.clone(o.onTrue):e.clone(o.onFalse)),void 0===s.empty&&(s.empty=!0),void 0!==h?(p[h]=s,l||(l={skipChildren:!1,cloneDeep:!1,keepIfEmpty:!1,empty:s.empty})):l=s,!s.keepIfEmpty&&s.skipChildren||(o.cloneDeep&&s.cloneDeep?void 0!==i.path?e.set(u,i.path,o.cloneDeep(r)):u=o.cloneDeep(r):void 0!==i.path?e.set(u,i.path,Array.isArray(r)?[]:e.isPlainObject(r)?{}:r):u=Array.isArray(r)?[]:e.isPlainObject(r)?{}:r),!s.skipChildren}!i.afterIterate||i.isCircular||(void 0===h&&l.empty&&!l.keepIfEmpty?u=null:void 0!==h&&p[h].empty&&!p[h].keepIfEmpty?e.unset(u,i.path):(e.eachRight(i.parents,(function(e){var r=n(e.path);if(void 0===r||!p[r].empty)return!1;p[r].empty=!1})),l.empty=!1))}),h),l&&l.empty&&!l.keepIfEmpty&&(u=null),e.each(d,(function(r){var n;(void 0===r[1]||a(u,r[1]))&&(n=e.has(o,"replaceCircularBy")?o.replaceCircularBy:void 0!==r[1]?e.get(u,r[1]):u,e.set(u,r[0],n))})),o.condense&&(u=t(u,{checkCircular:o.checkCircular})),!Array.isArray(u)||u.length||h.includeRoot?u:null}}function p(e){var r=o(e);return function(n,t,a){t=e.iteratee(t),a?void 0!==(a=e.cloneDeep(a)).leafsOnly&&(a.leavesOnly=a.leafsOnly):a={};var i,c={pathFormat:(a=e.merge({checkCircular:!1,leavesOnly:void 0===a.childrenPath,pathFormat:"string"},a)).pathFormat,checkCircular:a.checkCircular,childrenPath:a.childrenPath,includeRoot:a.includeRoot,rootIsChildren:a.rootIsChildren,callbackAfterIterate:!1,leavesOnly:a.leavesOnly};return r(n,(function(e,r,n,a){if(t(e,r,n,a))return i={value:e,key:r,parent:n,context:a},a.break()}),c),i}}function d(e){var r=p(e);return function(e,n,t){var a=r(e,n,t);return a&&a.context.path}}function s(e){var r=p(e);return function(e,n,t){var a=r(e,n,t);return a&&a.value}}function f(e){return o(e)}function v(e){var r=o(e);return function(n,t){(t=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!t||void 0===t.childrenPath},t||{}))&&void 0!==t.leafsOnly&&(t.leavesOnly=t.leafsOnly);var a={pathFormat:"string",checkCircular:t.checkCircular,includeRoot:t.includeRoot,childrenPath:t.childrenPath,rootIsChildren:t.rootIsChildren,leavesOnly:t.leavesOnly},i={};return r(n,(function(e,r,n,a){a.isCircular&&!t.includeCircularPath||void 0!==a.path&&(i[a.path]=e)}),a),i}}function y(e){var r=o(e);return function(n,t){t&&void 0!==t.leafsOnly&&(t.leavesOnly=t.leafsOnly);var a={pathFormat:(t=e.merge({checkCircular:!1,includeCircularPath:!0,leavesOnly:!t||void 0===t.childrenPath,pathFormat:"string"},t||{})).pathFormat,checkCircular:t.checkCircular,includeRoot:t.includeRoot,childrenPath:t.childrenPath,rootIsChildren:t.rootIsChildren,leavesOnly:t.leavesOnly},i=[];return r(n,(function(e,r,n,a){a.isCircular&&!t.includeCircularPath||void 0!==a.path&&i.push(a.path)}),a),i}}function C(e){return y(e)}function P(e){var r=o(e);return function(e,n,t,a){var i=void 0!==t;return r(e,(function(e,r,a,c){i?t=n(t,e,r,a,c):(t=e,i=!0)}),a),t}}function m(e){var r=P(e);return function(n,t,a){return t=e.iteratee(t),r(n,(function(e,r,n,a,i){return e.push(t(r,n,a,i)),e}),[],a)}}function k(e){var r=o(e),n=c(e);return function(t,a,i){void 0===i&&(i={}),a=e.iteratee(a),i.cloneDeep=i.cloneDeep||e.cloneDeep,i.callbackAfterIterate=!1;var c=[];r(t,(function(e,r,t,o){if(void 0!==r){var l=a(e,r,t,o)+"";if(l!==r){var h=o.path,u="array"===i.pathFormat?JSON.stringify(h):h,p="array"===i.pathFormat?(o.parent.path||[]).concat(o.childrenPath||[],[l]):n([l],o.parent.path,o.childrenPath),d="array"===i.pathFormat?JSON.stringify(p):p;c[o.depth-1]||(c[o.depth-1]=[]),c[o.depth-1].push({oldPath:h,oldPathStr:u,newPath:p,newPathStr:d})}}}),i);for(var o=i.cloneDeep(t),l=c.length,h=function(){if(c[l]){var r={};c[l].forEach((function(n){var t,a=n.oldPath,i=n.oldPathStr,c=n.newPath,l=n.newPathStr;if(Object.prototype.hasOwnProperty.call(r,i))t=r[i],delete r[i];else{if(void 0===(t=e.get(o,a))&&!e.has(o,a))return;e.unset(o,a)}e.has(o,c)&&!Object.prototype.hasOwnProperty.call(r,l)&&(r[l]=e.get(o,c)),e.set(o,c,t)}))}};l--;)h();return o}}function b(e){var r=o(e);return function(n,t,a){t=e.iteratee(t);var i=Array.isArray(n)?[]:e.isObject(n)?{}:e.clone(n);return r(n,(function(r,n,a,c){var o=t(r,n,a,c);void 0===n?i=o:e.set(i,c.path,o)}),a),i}}function g(e){var r=c(e);return function(n,t){var a,i;e.isString(n)?a=n:i=n,t=Array.isArray(t)?e.cloneDeep(t):[t];for(var c=0;c<t.length;c++)if(e.isString(t[c])&&(t[c]=e.toPath(t[c])),Array.isArray(t[c])){if(void 0===i&&(i=e.toPath(a)),i.length>=t[c].length&&e.isEqual(e.takeRight(i,t[c].length),t[c]))return t[c]}else{if(!(t[c]instanceof RegExp))throw new Error("To match path use only string/regex or array of them.");if(void 0===a&&(a=r(n)),t[c].test(a))return t[c]}return!1}}function I(e){var r=g(e),n=u(e);return function(t,a,i){var c=!(i=e.merge({invert:!1},i||{})).invert;return(i=e.merge({onMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:!c},onNotMatch:{cloneDeep:!1,skipChildren:!1,keepIfEmpty:c}},i)).leavesOnly=!1,i.childrenPath=void 0,i.includeRoot=void 0,i.pathFormat="array",i.onTrue=i.invert?i.onMatch:i.onNotMatch,i.onFalse=i.invert?i.onNotMatch:i.onMatch,n(t,(function(e,n,t,c){return!1!==r(c.path,a)?i.invert:!i.invert}),i)}}function O(e){var r=I(e);return function(n,t,a){return(a=e.merge({invert:!1},a||{})).invert=!0,r(n,t,a)}}function D(e){var r=p(e);return function(e,n,t){return!!r(e,n,t)}}return c.notChainable=!0,h.notChainable=!0,g.notChainable=!0,function(n){return function(n){e(n)("condense",(function(e){for(var r=[],n=0;n<e.length;n++)n in e||r.push(n);for(var t=r.length;t--;)e.splice(r[t],1);return e}),!r.notChainable)}(n),function(r){e(r)("condenseDeep",l(r),!l.notChainable)}(n),function(r){e(r)("eachDeep",o(r),!o.notChainable)}(n),function(r){e(r)("exists",h(r),!h.notChainable)}(n),function(r){e(r)("filterDeep",u(r),!u.notChainable)}(n),function(r){e(r)("findDeep",p(r),!p.notChainable)}(n),function(r){e(r)("findPathDeep",d(r),!d.notChainable)}(n),function(r){e(r)("findValueDeep",s(r),!s.notChainable)}(n),function(r){e(r)("forEachDeep",f(r),!f.notChainable)}(n),function(r){e(r)("index",v(r),!v.notChainable)}(n),function(r){e(r)("keysDeep",C(r),!C.notChainable)}(n),function(r){e(r)("mapDeep",m(r),!m.notChainable)}(n),function(r){e(r)("mapKeysDeep",k(r),!k.notChainable)}(n),function(r){e(r)("mapValuesDeep",b(r),!b.notChainable)}(n),function(r){e(r)("omitDeep",I(r),!I.notChainable)}(n),function(r){e(r)("pathMatches",g(r),!g.notChainable)}(n),function(r){e(r)("pathToString",c(r),!c.notChainable)}(n),function(r){e(r)("paths",y(r),!y.notChainable)}(n),function(r){e(r)("pickDeep",O(r),!O.notChainable)}(n),function(r){e(r)("reduceDeep",P(r),!P.notChainable)}(n),function(r){e(r)("someDeep",D(r),!D.notChainable)}(n),n}}();
//# sourceMappingURL=deepdash.min.js.map
